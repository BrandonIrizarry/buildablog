<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/static/styles.css">
        <!-- By convention, the first element of the Posts slice is the host page's own material,
             and the rest of the slice comprises any listing of posts to be included (either in their entirety or else in
             summary form.) -->
        <title>{{ (index . 0).Title }}</title>
    </head>
    <body>
        {{ template "nav.html" . }}
        <main>
            <h1 class="page-title">Welcome</h1>
            {{ (index . 0).Content }}
            <section>
                {{ range (slice . 1) }}
                    <details class="published">
                        <summary>
                            <span class="created">{{ (humanReadable .Date) }}: </span>
                            <a href="posts/{{ (humanReadable .Date) }}">{{ .Title }}</a>
                        </summary>

                        <!-- Content of the details element, where we display the summary of the blog post and so forth. -->
                        <div>
                            <p class="summary">{{ .Summary }} <a href="posts/{{ (humanReadable .Date) }}">(more)</a></p>
                            {{  if (gt (len .Tags) 0) }}
                                {{ $numTags := (len .Tags) }}
                                <div>
                                    <span class="meta">Tags: </span>

                                    {{ range $i, $tag := .Tags }}
                                        <a href="posts?tag={{ $tag }}"><span class="tags">{{ $tag }}</span></a>{{ if (lt $i (dec $numTags)) }}<span class="meta">,</span>{{ end }}
                                    {{ end }}
                                </div>
                            {{ end }}
                        </div>
                    </details>
                {{ end }}
            </section>
        </main>
    </body>
</html>
